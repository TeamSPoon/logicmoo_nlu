Luke didn't need training to use the Force. He needed training to avoid falling to the Dark Side. That was what the entire cave scene was about.
It surely sounded like Yoda and Obi-Wan wanted him to kill Palpatine in a big fight.
Sure, they did. But it wasn't enough for him to fight. He had to fight for the right reasons. Fighting out of anger would have damned him.  That was the entire point.
Then why did Yoda tell him that his training was over?
Because Yoda was dying and Luke needed the confidence.  It was a dumbo feather.
That seems like a big risk.
Oh, it was.  Yoda didn't have any choice, though.  There was a good chance that Luke would have fallen but he was their only hope.
There was Leia, too.
She wasn't really capable of fighting Luke, though.  And she'd have even less training.  She'd have fallen in a second.
That might be an interesting alternate universe.
